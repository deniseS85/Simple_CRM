<div class="search-container">
    <input [(ngModel)]="inputValue" (ngModelChange)="filterTasks()" class="input-search" placeholder="Search" type="text"> 
    <button (click)="filterTasks()" class="search-btn"> 
        <img src="./assets/img/search.png">
    </button>
</div>



<div class="kanban-container">
    <div class="kanban-row">
        <h2>To do</h2>
        <div cdkDropList [cdkDropListData]="todoFilter" #todoList="cdkDropList" [cdkDropListConnectedTo]="[doneList, treatmentList, waitingList]"
            class="kanban-list" 
            [ngClass]="{'empty': todoFilter.length === 0}"
            (cdkDropListDropped)="drop($event)">
            <div *ngFor="let item of todoFilter" cdkDrag class="kanban-item">
                <div class="info-animal">
                    <img [src]="item.img">
                    <div>{{ item.name }} ({{ item.lastName }}) </div>
                </div>
                <div class="info-treatment">
                    <div>{{ item.treatmentName }}, {{ item.hour }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="kanban-row">
        <h2>Waiting</h2>

        <div cdkDropList [cdkDropListData]="waitingFilter" #waitingList="cdkDropList" [cdkDropListConnectedTo]="[doneList, treatmentList, todoList]"
            class="kanban-list" [ngClass]="{'empty': waitingFilter.length === 0}"
            (cdkDropListDropped)="drop($event)">
            <div *ngFor="let item of waitingFilter" cdkDrag class="kanban-item">
                <div class="info-animal">
                    <img [src]="item.img">
                    <div>{{ item.name }} ({{ item.lastName }})</div> 
                </div>
                <div class="info-treatment">
                    <div>{{ item.treatmentName }}, {{ item.hour }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="kanban-row">
        <h2>Treatment</h2>

        <div cdkDropList [cdkDropListData]="treatmentFilter" #treatmentList="cdkDropList" [cdkDropListConnectedTo]="[doneList, todoList, waitingList]"
            class="kanban-list" [ngClass]="{'empty': treatmentFilter.length === 0}"
            (cdkDropListDropped)="drop($event)">
            <div *ngFor="let item of treatmentFilter" cdkDrag class="kanban-item">
                <div class="info-animal">
                    <img [src]="item.img">
                    <div>{{ item.name }} ({{ item.lastName }})</div>
                </div>
                <div class="info-treatment">
                    <div>{{ item.treatmentName }}, {{ item.hour }}</div>
                </div>
            </div>
        </div>
    </div>
  
    <div class="kanban-row">
      <h2>Done</h2>
  
        <div cdkDropList [cdkDropListData]="doneFilter" #doneList="cdkDropList" [cdkDropListConnectedTo]="[todoList, waitingList, treatmentList]"
            class="kanban-list" [ngClass]="{'empty': doneFilter.length === 0}"
            (cdkDropListDropped)="drop($event)">
            <div *ngFor="let item of doneFilter" cdkDrag class="kanban-item">
                <div class="info-animal">
                    <img [src]="item.img">
                    <div>{{ item.name }} ({{ item.lastName }})</div> 
                </div>
                <div class="info-treatment">
                    <div>{{ item.treatmentName }}, {{ item.hour }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
